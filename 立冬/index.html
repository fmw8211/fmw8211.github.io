<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç«‹å†¬ç¤¼ç‰©</title>
    <!-- å¾®ä¿¡é¢„è§ˆé…ç½® -->
    <meta property="og:title" content="ç«‹å†¬å¿«ä¹ï¼æ»¡å±é›ªèŠ±çš„ç¥ç¦" /> <!-- é¢„è§ˆæ ‡é¢˜ -->
    <meta property="og:image" content="https://picsum.photos/id/292/400/300" /> <!-- é¢„è§ˆå°é¢å›¾ï¼ˆå¯æ›¿æ¢æˆè‡ªå·±çš„å›¾ç‰‡é“¾æ¥ï¼‰ -->
    <meta property="og:description" content="ç‚¹å‡»æŸ¥æ”¶ç¨‹åºå‘˜ä¸“å±çš„ç«‹å†¬æµªæ¼«ï½" /> <!-- é¢„è§ˆæè¿° -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", sans-serif;
        }

        body {
            background: #fff;
            overflow: hidden;
        }

        /* åˆå§‹å¼¹çª— - ç®€åŒ–æ ·å¼ï¼Œç¡®ä¿ç‚¹å‡»æ­£å¸¸ */
        .initial-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }

        .modal-content {
            background: #fff;
            padding: 35px 25px;
            border-radius: 12px;
            width: 85%;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
        }

        .modal-content h2 {
            color: #4a3b2a;
            font-size: 1.6rem;
            margin-bottom: 30px;
        }

        .modal-confirm {
            padding: 10px 25px;
            background: #d8a767;
            color: #fff;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.2s;
        }

        .modal-confirm:hover {
            background: #c28e4f;
        }

        /* ç¥ç¦å°å¼¹çª— - ç¡®ä¿å¯è§ã€ç»“æ„ç®€å• */
        .blessing-modal {
            position: fixed;
            padding: 22px 18px 15px;
            border-radius: 8px;
            border: 1px solid #e0d8cc;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: 140px;
            /* æ›´å°æ›´ç´§å‡‘ï¼Œé¿å…æ‹¥æŒ¤ */
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 99;
            animation: pop 0.2s ease-out;
        }

        /* æç¤ºæ ‡ç­¾ - é†’ç›®ä¸åˆºçœ¼ */
        .modal-tag {
            position: absolute;
            top: 6px;
            left: 10px;
            font-size: 0.75rem;
            color: #555;
        }

        .blessing-modal p {
            color: #4a3b2a;
            font-size: 1rem;
            font-weight: 500;
        }

        /* æœ€ç»ˆå¤§å¼¹çª— - è¦†ç›–æ‰€æœ‰å†…å®¹ */
        .big-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 500px;
            padding: 50px 30px;
            background: #fff9e8;
            /* æš–è‰²è°ƒå‘¼åº”ç«‹å†¬ */
            border-radius: 16px;
            border: 2px solid #d8a767;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            text-align: center;
            z-index: 200;
            /* é«˜äºæ‰€æœ‰å°å¼¹çª— */
            animation: fadeIn 0.5s ease-out;
        }

        .big-modal p {
            color: #4a3b2a;
            font-size: 2rem;
            /* æ¯”å°å¼¹çª—å¤§2å€ */
            font-weight: 600;
            line-height: 1.8;
        }

        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes pop {
            0% {
                opacity: 0;
                transform: scale(0.8);
            }

            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.9);
            }

            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        /* å“åº”å¼ - æ‰‹æœºç«¯é€‚é… */
        @media (max-width: 375px) {
            .blessing-modal {
                width: 120px;
                height: 70px;
            }

            .blessing-modal p {
                font-size: 0.9rem;
            }

            .big-modal p {
                font-size: 1.5rem;
                /* æ‰‹æœºç«¯é€‚å½“ç¼©å°ï¼Œä»æ¯”å°å¼¹çª—å¤§ */
            }

            .big-modal {
                padding: 40px 20px;
            }
        }
    </style>
</head>

<body>
    <!-- åˆå§‹å¼¹çª— -->
    <div class="initial-modal" id="initialModal">
        <div class="modal-content">
            <h2>ä½ æœ‰ä¸€ä»½ç«‹å†¬ç¤¼ç‰©ï¼Œç¡®å®šè¦æ‰“å¼€å—ï¼Ÿ</h2>
            <button class="modal-confirm" id="confirmBtn">ç¡®å®š</button>
        </div>
    </div>

    <script>
        // æ ¸å¿ƒæ•°æ®
        const blessings = [
            "å¤©å¤©å¼€å¿ƒ", "åˆ«å¤ªç´¯å•¦", "ä¿æŒå¥½å¿ƒæƒ…", "æˆ‘æƒ³ä½ äº†", "æ¢¦æƒ³æˆçœŸ",
            "åˆ«ç†¬å¤œ", "å¹³å®‰å–œä¹", "å¥½å¥½ä¼‘æ¯", "ä»Šå¤©å¼€å¿ƒå—", "ä¿æŒå¾®ç¬‘å‘€",
            "ç›¸ä¿¡è‡ªå·±", "å¤©å†·äº†ï¼Œå¤šç©¿ç‚¹è¡£æœ", "é‡‘æ¦œé¢˜å", "çƒ¦æ¼éƒ½æ¶ˆå¤±", "å¤šå–æ°´å“¦",
            "è®°å¾—åƒæ°´æœ", "é¡ºé¡ºåˆ©åˆ©", "å…ƒæ°”æ»¡æ»¡", "æœŸå¾…ä¸‹ä¸€æ¬¡è§é¢", "ä½ è¶…æ£’çš„"
        ];
        const bgColors = ['#fff9e8', '#f0f8fb', '#fef7fb', '#f5fafe', '#faf6ed'];

        // çŠ¶æ€å˜é‡
        let lastColorIdx = -1; // ä¸Šä¸€ä¸ªé¢œè‰²ç´¢å¼•
        let popCount = 0; // å½“å‰å¼¹å‡ºå¼¹çª—æ•°é‡
        const maxPopCount = 100; // æœ€å¤§å°å¼¹çª—æ•°é‡ï¼ˆå¯è°ƒæ•´ï¼‰

        // DOMå…ƒç´ 
        const initialModal = document.getElementById('initialModal');
        const confirmBtn = document.getElementById('confirmBtn');

        // ç‚¹å‡»ç¡®å®š - å¯åŠ¨å°å¼¹çª—
        confirmBtn.addEventListener('click', () => {
            initialModal.style.display = 'none';
            popBlessing(); // ç«‹å³å¼¹ç¬¬ä¸€ä¸ªå°å¼¹çª—
        });

        // å¼¹å‡ºå•ä¸ªå°å¼¹çª—ï¼ˆä¸æ¶ˆå¤±ï¼‰
        function popBlessing() {
            // è¾¾åˆ°æœ€å¤§æ•°é‡ï¼Œåœæ­¢å°å¼¹çª—å¹¶æ˜¾ç¤ºå¤§å¼¹çª—
            if (popCount >= maxPopCount) {
                setTimeout(showBigModal, 500); // å»¶è¿Ÿ0.5sï¼Œè®©æœ€åä¸€ä¸ªå°å¼¹çª—åŠ¨ç”»å®Œæˆ
                return;
            }

            // 1. è·å–ä¸é‡å¤çš„èƒŒæ™¯è‰²
            const colorIdx = getDifferentColorIdx();
            const bgColor = bgColors[colorIdx];
            lastColorIdx = colorIdx;

            // 2. è·å–éšæœºç¥ç¦
            const blessing = blessings[Math.floor(Math.random() * blessings.length)];

            // 3. åˆ›å»ºå°å¼¹çª—
            const modal = document.createElement('div');
            modal.className = 'blessing-modal';
            modal.style.backgroundColor = bgColor;
            modal.innerHTML = `<span class="modal-tag">æç¤º</span><p>${blessing}</p>`;

            // 4. è®¡ç®—éšæœºä½ç½®ï¼ˆç¡®ä¿åœ¨å±å¹•å†…ï¼‰
            const modalWidth = 140; // ä¸CSSä¸€è‡´
            const modalHeight = 80; // ä¸CSSä¸€è‡´
            const maxX = window.innerWidth - modalWidth - 15; // å³è¾¹è·15px
            const maxY = window.innerHeight - modalHeight - 15; // ä¸‹è¾¹è·15px
            const x = Math.floor(Math.random() * maxX) + 10; // å·¦è¾¹è·10px
            const y = Math.floor(Math.random() * maxY) + 10; // ä¸Šè¾¹è·10px
            modal.style.left = `${x}px`;
            modal.style.top = `${y}px`;
            modal.style.zIndex = 99 + popCount; // å°å¼¹çª—å±‚çº§é€’å¢

            // 5. æ·»åŠ åˆ°é¡µé¢
            document.body.appendChild(modal);

            popCount++;
            // 6. é€’å½’è°ƒç”¨ - 100msåå¼¹ä¸‹ä¸€ä¸ª
            setTimeout(popBlessing, 100);
        }

        // æ˜¾ç¤ºæœ€ç»ˆå¤§å¼¹çª—ï¼ˆè¦†ç›–æ‰€æœ‰å°å¼¹çª—ï¼‰
        function showBigModal() {
            const bigModal = document.createElement('div');
            bigModal.className = 'big-modal';
            bigModal.innerHTML = `<p>å¦‚æœå¿ƒæƒ…ä¸å¥½ï¼Œæ‰¾æˆ‘èŠèŠå¤©å§ğŸ˜Š</p>`;
            document.body.appendChild(bigModal);
        }

        // è·å–ä¸ä¸Šä¸€ä¸ªä¸åŒçš„é¢œè‰²ç´¢å¼•
        function getDifferentColorIdx() {
            let idx;
            do {
                idx = Math.floor(Math.random() * bgColors.length);
            } while (idx === lastColorIdx);
            return idx;
        }
    </script>
</body>

</html>